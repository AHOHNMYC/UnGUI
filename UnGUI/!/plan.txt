Аноним (Microsoft Windows 7: Chromium based) 18/12/17 Пнд 20:31:59   №2213110  

/r утилитку для шиндовс, реализующую универсальный гуй для для CLI-софтин, чтобы просто конфигурировалась файликом типа .ini с секциями вида:

[program_name_1]
bin_path=C:\program.exe

option_tittle_1=Optimizations
option_hint_1=Enable cpu optimizations
option_type_1=combobox
option_values_1=htt,sse3,sse4
option_default_1=1,2
option_keys_1=--oh,--os3,--0s4

option_tittle_2=Encoder type B
option_hint_2=Use single thread encoder
option_type_2=checkbox
option_default_2=0
option_keys_2=--etb

[program_name_2]
...

Ну короче вы поняли, сам бы написал, да начал уже сишку с winapi забывать т.к. с 2006 ничего не кодировал.

_____________________

Аноним (Microsoft Windows 7: Chromium based) 19/12/17 Втр 18:41:16   №2213833  

Я ждал тебя, анон! Если получится, то получишь мощнейшую дозу облучения вселенским добром!

Честно я удивлен, что никто не написал подобное.

Как всегда в процессе реализации вскроются многие подводные камни, так что будь готов. А у меня, пока это крутилось в голове пару дней, назрели некоторые очертания этих камней и уточнения - и чувствую что это далеко не всё, с чем тебе придётся столкнуться, я думаю ты сам уже всё это додумал, но возможно тебе пригодится:

1) Мб лучше будет реализовать конфиг для каждой консольной проги не секциями в одном файле, а отдельным файлом - так будет проще добавлять новые конфиги, скачал файлик кинул в каталог с прогой она при запуске нашла все эти конфиги в своем каталоге и поместила в выпадающий список (я вижу выбор консольный утилиты так - сверху окна - дропдаунлист с перечислением названий утилит - они же имена файлов конфига (а ведь класно же - мы получаем профили тут же - можно для того же ффмпега нахерачить кучу конфигов для разных задач), при выборе какого-то из них ниже динамически создаются контролы один над другим, предварительно уничтожаются старые, если таковые есть).

2) В полях типа EDIT нужно предусмотреть флаг автоматического заключения в кавычки (для путей нужно) и фильтрации двойного заключения в кавычки (это если флаг стоит, а юзер руками добавил их ещё)

3) Может быть необходимо реализовать зависимость доступности опций друг от друга, и обязательно использовать для этого логические операторы, ну типа опция С доступна если активированы опции A&&B или A||B или !A (по поводу отрицания надо подумать - может быть и не нужно ибо в большинстве случаев реализуемо с помощью Radio Buttons). И тут есть ньюанс, в случае если та опция, от которая зависит доступность текущей простая типа чекбокса, то всё ок, а если опция типа множественного выбора (в моем примере htt,sse3,sse4)? Простой вариант разбивать сложную опцию на простые.

4) Запоминать последние параметры?

Короче удачи тебе, анон. Очень полезная будет софтина - законфигурировать можно будет и всякие архиваторы, видеоенкодеры, компиляторы, ютьюбдлы, да даже хромиум удобно с теми или иными ключами запуска стартовать - у него их чуть ли не тысяча имеется.

_____________________

Аноним (Microsoft Windows 7: Chromium based) 23/12/17 Суб 20:15:15   №2217060  

Ну ты рили быстрый, я уже думал до окончания НГ праздников тебя не ждать. Хотя какие у двачеров/сосачеров праздники, я даже не пью. Токса у меня кстати нет - думал как-то завести, а потом подумал не стал - ибо давно давно ни с кем не общаюсь, даже в сети, кроме как здесь. Ну ты не торопись, если лень - жди очередного импульса творческой энергии, лучше всё это довести до более менее развитого состояния, хотя как известно программу нельзя закончить, лол а потом опубликовать на гитхабе (или как это называется - я старый прост, уже бросил увлечение программированием когда всё эти гихабы стали популярны, лишь пилю/допиливаю расширения для хрома, чисто для себя), софтина может стать весьма популярной, недавно вот опять полез в консольку, чтобы webp сконвертить в jpeg для моего древнего ACDSee 2004 года, который его не понимать.

_____________________

Аноним (Microsoft Windows 7: Chromium based) 27/12/17 Срд 03:29:53 	№2219648

Серьёзный вишмастер, почитал туду - не ожидал что такой основательный подход будет.
Кое-какие мысли возникли, может быть окажутся тебе полезными, да простят нас анонимусы, за использования этого треда как чатика:

Я бы не усложнял себе жизнь кодингом обработки параметров собственной коммандной строки запуска,
мне кажется достаточно будет отедльного конфига.
Для случая, когда есть какой-то постояный набор входных данных достаточно будет запоминания последних параметров.
Можно какие-то основные параметры типа языка интерфейса выбирать через простую контекстную менюшку.
Алсо можно придумать свое расширение для конфигов и ассоциировать его с UnGUI, но не всем такой вариант понравится, 
когда софт вносит изменения в настройки ОС, теряется некий "консольно-портативный" дух, хотя с другой стороны всё это ерунда.
-----------
В случае инпут-файлов действительно нужно предусмотреть опцию добавления ключа перед каждым выбранным/брошенным файлом,
Алсо туда же ouput, вот например "dwebp in_file [options] [-o out_file]", 
т.е. наверное EDITам стоит добавить необязательные параметры:
key_n,
опцию "добавлять слитно без пробела" по умолчанию в false, и тип связанной кнопки который
может быть открытие файла/ов, сохранение файла, и выбор каталога.
-----------
>возможность схоронять настройки при выходе
+
а если есть дефолтные, то и возможность сброса на них
-----------
>перенаправление вывода консольных программ в отдельный лог/отдельное окно (опционально)

можно попробовать сформированную строку суммировать с "cmd.exe /k", хотя это костыльно как-то
Но лог в файл полезная всё равно штука
-----------
>графический ёба-редактор конфига
Ты просто застопоришься на этом и в итоге редактор станет твоим основным проектом, лол.
Нафиг не нужно имхо - юзеры которые будут готовить конфиги, скорее всего не обременятся поработать в текстовом редакторе один-два раза.
Алсо как прикольно получается - придумали утилиту которая по конфигу конструирует гуй, 
теперь надо придумать утилиту, которая с помощью гуя будет формировать конфиг. Хотя возможно удобно да - как редакторе ресурсов в VS.
-----------

_____________________

Аноним (Microsoft Windows 7: Chromium based) 28/12/17 Чтв 02:43:50   №2220203  
>>2220143
>У меня тут чистая сишка и чистое WinAPI
>win95
Может я тупой или уже сильно отстал, но в чём там сложности с контекстным меню (кмк под 95 нет смысла писать, или есть?)? На голом winapi и С я вроде когда-то реализовывал контекстные менюшки, начиная с винтукея WINVER=0x0500;_WIN32_WINNT=0x0500; усё работает, конечно, там будет достаточно объёмный код всей возни со структурами и флагами, но это же winapi, куда без этих структур и флагов.

Запихивать конфиги в ресурсы хорошая идея, типа скачал и сразу имеешь конфиги в комплекте к популярным софтинам типам ffmpeg, нужно будет кодить их простенький менеджер - с функциями перечисления, удаления, добавления, перезаписи/обновления. По поводу исполняемых хз, кажется это лишнее, как там на это антивирусы, норм? Хотя да - во всяких процессэксплорерах драйвера вшиты. Потом возникают лишние движения в плане поддержания новых версий - помимо скачивания новой версии какого-нибудь google closure compiler - который вроде часто обновляется, нужно его перевшивать в UnGUI, для портабельности не вижу проблем хранить всё просто в одном каталоге/архиве, плюс получается некий комбайн включающий в себя сторонний софт, хотя для личного пользования почему бы и нет.

>Может подкинешь идеек?
Сначала нужно определиться, где сохранять последние параметры, в файле загруженного конфига или в отдельном/главном конфиге, 
почему-то мне кажется что в отдельном не нужно - потенциально приведет к багам/конфликтам разных версий конфигов, увеличению кол-ва файлов. Вижу простое решение, не знаю как насчёт красоты - если есть ключ default_n, то нет проблем добавить при первой выгрузке конфига/закрытия программы ключ last_saved_n,
при загрузки конфига проверяем наличие/считываем last_saved_n, если отсутствует или пустая строка, используем default_n, при сбросе на дефолт просто удаляем во всех секциях last_saved_n, сохраняем на хард и перезагружаем этот конфиг. Но что-то я подумал, что это элементарно и ты спрашивал про идеи другого рода.

_____________________

Аноним (Microsoft Windows 7: Chromium based) 30/12/17 Суб 03:28:59   №2221618  
>>2221472
>подумать над приоритетом встроенного конфига и внешнего.

Думаю внутренний вообще не должен приниматься в работу, полезность этого вижу лишь в плане дистрибуции, при запуске просто проверям наличие одноименного конфига на харде, если нет, то выгружаем на хард и далее уже работаем только с ним. Алсо можно ещё и документацию зашить в каком-либо удобочитаемом виде. Я зашивал небольшой гайд в виде rtf, предварительно красиво его отформатировав - с цветами, параграфами, гиперссылками, и отображал в Rich Edit контроле. Можно просто зашить html и окрывать в браузере как многие делают по F1.
Пока нет времени серьёзно что-нибудь законфигурировать и потестить - тут и НГ и ДР - куча родственников с другого города, шумных детей с ними, а у меня тут еще своих срочных дел поднакопилось, но я слежу за разработкой, спасибо Анон!

